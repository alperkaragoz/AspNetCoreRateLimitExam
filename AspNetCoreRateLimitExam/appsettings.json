{
  // Policylerimizi belirtiyoruz.
  // NOT : İki alan(IPRateLimitPolicies, GeneralRules) arasında daha dar kapsamlı olan kural, diğer kuralı ezer.
  "IPRateLimitPolicies": {
    "IpRules": [
      {
        //Windows Ip v6'yı kullandığı için :: , eğer Ipv4'ü kullansaydı 127.0.0.1 yazılacaktı.
        "Ip": "::1",
        "Rules": [
          {
            //Tüm endpointler için 50s'de 5 istek izni veriliyor.
            "Endpoint": "*",
            "Period": "50s",
            "Limit": 5
          }
        ]
      }
    ]
  },

  // IPRateLimit özelliklerine https://github.com/stefanprodan/AspNetCoreRateLimit/wiki/IpRateLimitMiddleware#setup adresinden erişebiliriz.
  "IPRateLimiting": {
    // Eğer docker kullanılıyorsa 1'den fazla uygulama çalışıyorsa ve load balancer kullanılıyorsa RealIpHeader key'i kullanılabilir.
    //"RealIpHeader": "x-ip",

    //Endpoint seviyesinde bir oran belirlemek istiyorsak aşağıdaki prop'u true yapıyoruz.
    "EnableEndpointRateLimiting": true,
    //Örn 1 dkda 50, 1 saatte 500 istek yapılabilir, 1 dkda 60 değilde 150 istek yapılırsa, geri kalan istekler sayılacak mı sayılmayacak mı bunu belirtiyoruz.true ise sayılacaktır.
    "StackBlockedRequests": false,
    //Request başarısız olursa clientlara döneceğimiz kod; Açıklaması; çok fazla request yapıldı.
    "HttpStatusCode": 429,
    //Sınırlama koymak istemediğimiz IP adresilerini belirtiyoruz.
    "IpWhitelist": [ "127.0.0.1" ],
    "EndpointWhiteList": [":put::/api/customer"],
    //"IpWhitelist": [ "127.0.0.1", "::1", "192.168.0.0/24" ],
    "GeneralRules": [
      {
        // * => Tüm Get,Post,Delete,Patch vb.. tipleri içerir.
        "Endpoint": "GET:/api/customer",
        // 40 saniyede 4 istek yapabilir.
        "Period": "40s",
        "Limit": 4
      },
      {
        "Endpoint": "POST:/api/customer",
        // 30 dakikada 15 istek yapabilir.
        "Period": "30m",
        "Limit": 15
      },
      {
        "Endpoint": "*:/api/companies",
        // 2 saatte 50 istek yapabilir.
        "Period": "2h",
        "Limit": 50
      },
      {
        "Endpoint": "*:/api/companies",
        // 1 günde 200 istek yapabilir.
        "Period": "1d",
        "Limit": 200
      }
    ]
  },


  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
