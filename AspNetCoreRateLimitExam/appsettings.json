{
  //Client bazlı kısıtlamayı; eğer Api'lara istek yapacak clientların IP adresleri statik değilse client üzerinden yapabiliriz. Eğer ip adresleri statik ise Ip üzerinden kısıtlama yapabiliriz.
  // Ip bazlı kısıtlama daha güvenlidir.
  //ClientId istek yapıldığında, o isteğin, header kısmında belirteceğimiz alana göre değeri okuyup bu değere göre kısıtlama yapılıp yapılmayacağını belirleriz.
  //Örn: Postman -> Header -> Key X-ClientId    Value=dev-id-5

  "ClientRateLimiting": {
    // Hata mesajını manuel olarak vermek için QuotaExceededResponse keyini kullanıyoruz.
    // {0} Limit key'ine karşılık geliyor.{2} kaç saniye sonra istek yapılacağını gösteriyor(Retry-After).
    "QuotaExceededResponse": {
      "Content": "{{\"message\":\"Request limit exceeded!\",\"Detail\": \"Allowed request number {1} per {0}.Retry after {2} second\"    }}",
      "ContentType": "application/json"
    },

    // Eğer docker kullanılıyorsa 1'den fazla uygulama çalışıyorsa ve load balancer kullanılıyorsa RealIpHeader key'i kullanılabilir.
    //"RealIpHeader": "x-ip",

    //Endpoint seviyesinde bir oran belirlemek istiyorsak aşağıdaki prop'u true yapıyoruz.
    "EnableEndpointRateLimiting": true,
    //Örn 1 dkda 50, 1 saatte 500 istek yapılabilir, 1 dkda 60 değilde 150 istek yapılırsa, geri kalan istekler sayılacak mı sayılmayacak mı bunu belirtiyoruz.true ise sayılacaktır.
    "StackBlockedRequests": false,
    //Request başarısız olursa clientlara döneceğimiz kod; Açıklaması; çok fazla request yapıldı.
    "HttpStatusCode": 429,
    "ClientIdHeader": "X-ClientId",
    //Eğer bir isteğin headerında client-1 varsa aşağıdaki kurallardan muaf olacak.
    "ClientWhitelist": [ "clientid-1" ],
    "EndpointWhiteList": [ ":put::/api/customer" ],
    //"IpWhitelist": [ "127.0.0.1", "::1", "192.168.0.0/24" ],
    "GeneralRules": [
      {
        // * => Tüm Get,Post,Delete,Patch vb.. tipleri içerir.
        "Endpoint": "GET:/api/customer",
        // 40 saniyede 4 istek yapabilir.
        "Period": "40s",
        "Limit": 4
      },
      {
        // Eğer parametre alıyorsa sonunda * kullanıyoruz.
        "Endpoint": "*:/api/customer/*",
        // 30 dakikada 15 istek yapabilir.
        "Period": "30m",
        "Limit": 15
      },
      {
        "Endpoint": "*:/api/companies",
        // 2 saatte 50 istek yapabilir.
        "Period": "2h",
        "Limit": 50
      },
      {
        "Endpoint": "*:/api/companies",
        // 1 günde 200 istek yapabilir.
        "Period": "1d",
        "Limit": 200
      }
    ]
  },


  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
